import{j as e,r as t,T as N,B as p,c as v,u as S,P as I,e as P}from"../index.ChXpIm8i.js";function C(){return e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-linear-to-br from-purple-600 via-blue-600 to-teal-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/10 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-32 right-16 w-24 h-24 bg-white/20 rounded-lg animate-bounce"}),e.jsx("div",{className:"absolute top-1/2 left-16 w-16 h-16 bg-white/15 rounded-full animate-spin"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16 text-white",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Welcome to",e.jsx("span",{className:"block text-transparent bg-clip-text bg-linear-to-r from-yellow-300 to-pink-300",children:"OmniBlast"})]}),e.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:"Transform your marketing with our comprehensive automation platform. Reach your audience across WhatsApp, Email, SMS, Instagram and more."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“±"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Multi-Channel Messaging"}),e.jsx("p",{className:"text-gray-300",children:"WhatsApp, Email, SMS, Instagram & more"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Smart Targeting"}),e.jsx("p",{className:"text-gray-300",children:"AI-powered lead scoring and segmentation"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Real-time Analytics"}),e.jsx("p",{className:"text-gray-300",children:"Track delivery, engagement and conversions"})]})]})]})]})]})}const k=({user:u,onComplete:o,onClose:b})=>{const[a,x]=t.useState(""),[d,n]=t.useState(!1),[g,h]=t.useState(!1),[m,i]=t.useState(""),[l,f]=t.useState(0);t.useEffect(()=>{let s;return l>0&&(s=setTimeout(()=>f(l-1),1e3)),()=>clearTimeout(s)},[l]);const j=async()=>{if(!a||a.length!==6){i("Please enter a valid 6-digit code");return}n(!0),i("");try{await v.post("/auth/verify-phone",{userId:u.id,code:a}),o()}catch(s){i(s?.message||"Verification failed. Please try again.")}finally{n(!1)}},c=async()=>{if(!(l>0)){h(!0),i("");try{await v.post("/auth/resend-verification",{type:"phone",userId:u.id}),f(60),x("")}catch(s){i(s?.message||"Failed to resend code. Please try again.")}finally{h(!1)}}},r=s=>{const y=Math.floor(s/60),w=s%60;return`${y}:${w.toString().padStart(2,"0")}`};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-2xl",children:"ðŸ“±"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verify Your Phone"}),e.jsx("p",{className:"text-gray-600",children:"We've sent a 6-digit verification code to your phone number. Please enter it below to complete your registration."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(N,{label:"Verification Code",name:"code",placeholder:"Enter 6-digit code",value:a,onChange:({value:s})=>{x(s.replace(/\D/g,"").slice(0,6)),m&&i("")},disabled:d,maxLength:6,className:"mt-1 text-center text-2xl font-mono tracking-widest"})}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:m})}),e.jsx(p,{onClick:j,className:"w-full bg-linear-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white py-3 rounded-lg font-semibold transition-all duration-200",disabled:d||a.length!==6,children:d?"Verifying...":"Verify Phone Number"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Didn't receive the code?"}),e.jsx(p,{onClick:c,disabled:l>0||g,className:"text-blue-600 hover:text-blue-700 font-semibold text-sm bg-transparent border-none p-0 h-auto",children:g?"Sending...":l>0?`Resend in ${r(l)}`:"Resend Code"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(p,{onClick:b,className:"w-full text-gray-600 hover:text-gray-700 bg-gray-100 hover:bg-gray-200 py-2 rounded-lg font-medium transition-colors",children:"Skip for Now"})})]})})},V=()=>{const u=S(c=>c.login),[o,b]=t.useState({loginId:"",password:""}),[a,x]=t.useState(!1),[d,n]=t.useState(""),[g,h]=t.useState(!1),[m,i]=t.useState(null),l=({value:c,name:r})=>{b(s=>({...s,[r]:c})),d&&n("")},f=async c=>{if(c.preventDefault(),!o.loginId||!o.password){n("Please fill in all fields");return}x(!0),n("");try{const r=await u(o);r.user&&!r.user.isActive?P.PHONE_VERIFICATION_REQUIRED&&!r.user.isPhoneVerified||n("Account verification pending. Please check your email."):window.location.href="/dashboard"}catch(r){n(r?.message||"Login failed. Please try again.")}finally{x(!1)}},j=()=>{h(!1),i(null),window.location.href="/dashboard"};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx(C,{}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gray-50",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-linear-to-r from-blue-600 to-purple-600 rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"OB"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your OmniBlast account"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx("div",{children:e.jsx(N,{label:"Login ID",required:!0,name:"loginId",placeholder:"Enter your login ID",value:o.loginId,onChange:l,disabled:a,className:"mt-1"})}),e.jsx("div",{children:e.jsx(I,{label:"Password",required:!0,name:"password",placeholder:"Enter your password",value:o.password,onChange:l,disabled:a,className:"mt-1"})}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:d})}),e.jsx(p,{type:"submit",className:"w-full bg-linear-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105",disabled:a,children:a?"Signing In...":"Sign In"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-colors",children:"Sign up now"})]})})]}),e.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Â© ",new Date().getFullYear()," OmniBlast. All rights reserved."]})})]})}),g&&m&&e.jsx(k,{user:m,onComplete:j,onClose:()=>h(!1)})]})};export{V as default};
//# sourceMappingURL=Login-Cny3vVzi.js.map
