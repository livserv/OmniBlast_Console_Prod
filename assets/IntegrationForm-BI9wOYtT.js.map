{"version":3,"file":"IntegrationForm-BI9wOYtT.js","sources":["../../../src/pages/integrations/EmailIntegrationForm.tsx","../../../src/pages/integrations/GupshupIntegrationForm.tsx","../../../src/pages/integrations/IntegrationTypeSelector.tsx","../../../src/pages/integrations/SMSIntegrationForm.tsx","../../../src/pages/integrations/WhatsAppIntegrationForm.tsx","../../../src/pages/integrations/IntegrationForm.tsx"],"sourcesContent":["import { Button, Dropdown, TextInput } from 'ether-ui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { EmailIntegrationConfig, Integration } from '../../../types/integration';\r\nimport { useIntegrationStore } from '../../services/integration';\r\n\r\ninterface EmailIntegrationFormProps {\r\n    onCancel: () => void;\r\n    integration?: Integration;\r\n}\r\n\r\nexport const EmailIntegrationForm: React.FC<EmailIntegrationFormProps> = ({ onCancel, integration }) => {\r\n    const navigate = useNavigate();\r\n    const { createIntegration, updateIntegration, isLoading } = useIntegrationStore();\r\n    const isEditMode = !!integration;\r\n    const [name, setName] = useState('');\r\n    const [config, setConfig] = useState<EmailIntegrationConfig>({\r\n        provider: 'smtp',\r\n        fromEmail: '',\r\n        fromName: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (integration) {\r\n            setName(integration.name || '');\r\n            setConfig(integration.config as EmailIntegrationConfig);\r\n        }\r\n    }, [integration]);\r\n\r\n    const providerOptions = [\r\n        { label: 'SMTP', value: 'smtp' },\r\n        { label: 'SendGrid', value: 'sendgrid' },\r\n        { label: 'Mailgun', value: 'mailgun' },\r\n        { label: 'AWS SES', value: 'aws-ses' },\r\n    ];\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (isEditMode && integration?.id) {\r\n                await updateIntegration(integration.id, {\r\n                    name,\r\n                    config,\r\n                });\r\n            } else {\r\n                await createIntegration({\r\n                    type: 'email',\r\n                    name,\r\n                    config,\r\n                });\r\n            }\r\n            navigate('/integrations');\r\n        } catch (error) {\r\n            console.error(`Failed to ${isEditMode ? 'update' : 'create'} integration:`, error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg border border-gray-200 p-6 space-y-6\">\r\n            <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Integration</h3>\r\n                <p className=\"text-sm text-gray-600\">Configure your email service provider</p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Integration Name</label>\r\n                <TextInput value={name} onChange={(e) => setName(e.value)} placeholder=\"e.g., Production Email Server\" required />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Provider</label>\r\n                <Dropdown\r\n                    options={providerOptions}\r\n                    value={config.provider}\r\n                    onChange={(value) => setConfig({ ...config, provider: value as any })}\r\n                />\r\n            </div>\r\n\r\n            {config.provider === 'smtp' && (\r\n                <>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">SMTP Host</label>\r\n                        <TextInput\r\n                            value={config.host || ''}\r\n                            onChange={(e) => setConfig({ ...config, host: e.value })}\r\n                            placeholder=\"smtp.example.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">SMTP Port</label>\r\n                        <TextInput\r\n                            type=\"number\"\r\n                            value={config.port?.toString() || ''}\r\n                            onChange={(e) => setConfig({ ...config, port: parseInt(e.value) })}\r\n                            placeholder=\"587\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Username</label>\r\n                        <TextInput\r\n                            value={config.username || ''}\r\n                            onChange={(e) => setConfig({ ...config, username: e.value })}\r\n                            placeholder=\"your-username\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\r\n                        <TextInput\r\n                            type=\"password\"\r\n                            value={config.password || ''}\r\n                            onChange={(e) => setConfig({ ...config, password: e.value })}\r\n                            placeholder=\"your-password\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {(config.provider === 'sendgrid' || config.provider === 'mailgun' || config.provider === 'aws-ses') && (\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">API Key</label>\r\n                    <TextInput\r\n                        type=\"password\"\r\n                        value={config.apiKey || ''}\r\n                        onChange={(e) => setConfig({ ...config, apiKey: e.value })}\r\n                        placeholder=\"Enter your API key\"\r\n                        required\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">From Email</label>\r\n                <TextInput\r\n                    type=\"email\"\r\n                    value={config.fromEmail}\r\n                    onChange={(e) => setConfig({ ...config, fromEmail: e.value })}\r\n                    placeholder=\"noreply@example.com\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">From Name</label>\r\n                <TextInput\r\n                    value={config.fromName}\r\n                    onChange={(e) => setConfig({ ...config, fromName: e.value })}\r\n                    placeholder=\"Your Company Name\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                <Button type=\"button\" variant=\"default\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? (isEditMode ? 'Updating...' : 'Creating...') : (isEditMode ? 'Update Integration' : 'Create Integration')}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n","import { Button, TextInput } from 'ether-ui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Integration } from '../../../types/integration';\r\nimport env from '../../common/env';\r\nimport { Password } from '../../components';\r\nimport { useAuthStore } from '../../services/auth';\r\nimport { useIntegrationStore } from '../../services/integration';\r\n\r\ninterface GupshupIntegrationFormProps {\r\n    onCancel: () => void;\r\n    integration?: Integration;\r\n}\r\n\r\nexport const GupshupIntegrationForm: React.FC<GupshupIntegrationFormProps> = ({ onCancel, integration: integrationProp }) => {\r\n    const navigate = useNavigate();\r\n    const { user } = useAuthStore();\r\n    const { createIntegration, updateIntegration, isLoading } = useIntegrationStore();\r\n    const isEditMode = !!integrationProp;\r\n    const [integration, setIntegration] = useState<Partial<Integration>>({ type: 'gupshup' });\r\n    const [copiedWebhook, setCopiedWebhook] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (integrationProp) {\r\n            setIntegration(integrationProp);\r\n        }\r\n    }, [integrationProp]);\r\n\r\n    const webhookUrl =\r\n        integration.id && user?.organizationId\r\n            ? `${env.apiExternalBasePath}/api/webhooks/gupshup/${user.organizationId}/${integration.id}/callback`\r\n            : '';\r\n\r\n    const handleCopyWebhook = async () => {\r\n        if (webhookUrl) {\r\n            await navigator.clipboard.writeText(webhookUrl);\r\n            setCopiedWebhook(true);\r\n            setTimeout(() => setCopiedWebhook(false), 2000);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (isEditMode && integration.id) {\r\n                await updateIntegration(integration.id, {\r\n                    name: integration.name,\r\n                    appId: integration.appId,\r\n                    appName: integration.appName,\r\n                    secret: integration.secret,\r\n                    config: integration.config,\r\n                });\r\n            } else {\r\n                await createIntegration(integration as any);\r\n            }\r\n            navigate('/integrations');\r\n        } catch (error) {\r\n            console.error(`Failed to ${isEditMode ? 'update' : 'create'} integration:`, error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg border border-gray-200 p-6 space-y-6\">\r\n            <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Gupshup Integration</h3>\r\n                <p className=\"text-sm text-gray-600\">Configure your Gupshup WhatsApp Business API connection</p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Integration Name</label>\r\n                <TextInput\r\n                    value={integration.name}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, name: e.value }))}\r\n                    placeholder=\"e.g., My Gupshup Account\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">App Id</label>\r\n                <TextInput\r\n                    value={integration.appId}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, appId: e.value }))}\r\n                    placeholder=\"e.g., 3h0bg315-4n14-9d57-1y64-h594gys76732\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">App Name</label>\r\n                <TextInput\r\n                    value={integration.appName}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, appName: e.value }))}\r\n                    placeholder=\"Your Gupshup app name\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">API Key / Secret</label>\r\n                <Password\r\n                    value={integration.secret}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, secret: e.value }))}\r\n                    placeholder=\"Enter your Gupshup API key\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source Phone Number</label>\r\n                <TextInput\r\n                    value={integration.config?.phoneNumber}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, config: { ...i.config, phoneNumber: e.value } }))}\r\n                    placeholder=\"e.g., 919876543210\"\r\n                    required\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">Your Gupshup registered phone number (with country code, without + sign)</p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">API Endpoint</label>\r\n                <TextInput\r\n                    value={integration.config?.apiVersion}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, config: { ...i.config, apiVersion: e.value } }))}\r\n                    placeholder=\"v2 or v3\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Callback URL (Optional)</label>\r\n                <TextInput\r\n                    value={integration.config?.callbackUrl || ''}\r\n                    onChange={(e) => setIntegration((i) => ({ ...i, config: { ...i.config, callbackUrl: e.value } }))}\r\n                    placeholder=\"https://your-server.com/webhook\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">URL to handle and respond to user queries</p>\r\n            </div>\r\n\r\n            {webhookUrl && (\r\n                <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Webhook URL</label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            readOnly\r\n                            value={webhookUrl}\r\n                            className=\"flex-1 px-3 py-2 text-sm bg-white border border-gray-300 rounded-md font-mono text-gray-700\"\r\n                        />\r\n                        <Button type=\"button\" variant=\"default\" size=\"sm\" onClick={handleCopyWebhook}>\r\n                            {copiedWebhook ? 'Copied!' : 'Copy'}\r\n                        </Button>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-600 mt-2\">\r\n                        Configure this webhook URL in your Gupshup dashboard to receive delivery status updates and user responses.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <p className=\"text-sm text-blue-800\">\r\n                    <strong>Note:</strong> You can find your API key in your Gupshup dashboard under Settings → API Keys.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                <Button type=\"button\" variant=\"default\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? (isEditMode ? 'Updating...' : 'Creating...') : isEditMode ? 'Update Integration' : 'Create Integration'}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { IntegrationType } from '../../../types/integration';\r\n\r\ninterface IntegrationTypeSelectorProps {\r\n    onSelect: (type: IntegrationType) => void;\r\n}\r\n\r\nexport const IntegrationTypeSelector: React.FC<IntegrationTypeSelectorProps> = ({ onSelect }) => {\r\n    const integrationTypes = [\r\n        {\r\n            type: 'email' as IntegrationType,\r\n            title: 'Email',\r\n            description: 'Connect SMTP, SendGrid, Mailgun, or AWS SES',\r\n            color: 'blue',\r\n        },\r\n        {\r\n            type: 'gupshup' as IntegrationType,\r\n            title: 'Gupshup',\r\n            description: 'WhatsApp Business API via Gupshup',\r\n            color: 'green',\r\n        },\r\n        {\r\n            type: 'whatsapp' as IntegrationType,\r\n            title: 'WhatsApp',\r\n            description: 'Direct WhatsApp Business API or Twilio',\r\n            color: 'green',\r\n        },\r\n        {\r\n            type: 'sms' as IntegrationType,\r\n            title: 'SMS',\r\n            description: 'Twilio, MessageBird, or AWS SNS',\r\n            color: 'purple',\r\n        },\r\n        {\r\n            type: 'telegram' as IntegrationType,\r\n            title: 'Telegram',\r\n            description: 'Telegram Bot API',\r\n            color: 'cyan',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Select Channel Type</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {integrationTypes.map((item) => (\r\n                    <button\r\n                        key={item.type}\r\n                        onClick={() => onSelect(item.type)}\r\n                        className={`bg-${item.color}-50 border-2 border-${item.color}-200 rounded-lg p-6 text-left hover:bg-${item.color}-100 transition-colors`}\r\n                    >\r\n                        <h4 className=\"font-semibold text-gray-900 mb-2\">{item.title}</h4>\r\n                        <p className=\"text-sm text-gray-600\">{item.description}</p>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { Button, Dropdown, TextInput } from 'ether-ui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Integration, SMSIntegrationConfig } from '../../../types/integration';\r\nimport { useIntegrationStore } from '../../services/integration';\r\n\r\ninterface SMSIntegrationFormProps {\r\n    onCancel: () => void;\r\n    integration?: Integration;\r\n}\r\n\r\nexport const SMSIntegrationForm: React.FC<SMSIntegrationFormProps> = ({ onCancel, integration }) => {\r\n    const navigate = useNavigate();\r\n    const { createIntegration, updateIntegration, isLoading } = useIntegrationStore();\r\n    const isEditMode = !!integration;\r\n    const [name, setName] = useState('');\r\n    const [config, setConfig] = useState<SMSIntegrationConfig>({\r\n        provider: 'twilio',\r\n        fromNumber: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (integration) {\r\n            setName(integration.name || '');\r\n            setConfig(integration.config as SMSIntegrationConfig);\r\n        }\r\n    }, [integration]);\r\n\r\n    const providerOptions = [\r\n        { label: 'Twilio', value: 'twilio' },\r\n        { label: 'MessageBird', value: 'messagebird' },\r\n        { label: 'AWS SNS', value: 'aws-sns' },\r\n    ];\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (isEditMode && integration?.id) {\r\n                await updateIntegration(integration.id, {\r\n                    name,\r\n                    config,\r\n                });\r\n            } else {\r\n                await createIntegration({\r\n                    type: 'sms',\r\n                    name,\r\n                    config,\r\n                });\r\n            }\r\n            navigate('/integrations');\r\n        } catch (error) {\r\n            console.error(`Failed to ${isEditMode ? 'update' : 'create'} integration:`, error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg border border-gray-200 p-6 space-y-6\">\r\n            <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">SMS Integration</h3>\r\n                <p className=\"text-sm text-gray-600\">Configure your SMS service provider</p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Integration Name</label>\r\n                <TextInput value={name} onChange={(e) => setName(e.value)} placeholder=\"e.g., Twilio SMS\" required />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Provider</label>\r\n                <Dropdown\r\n                    options={providerOptions}\r\n                    value={config.provider}\r\n                    onChange={(value) => setConfig({ ...config, provider: value as any })}\r\n                />\r\n            </div>\r\n\r\n            {config.provider === 'twilio' && (\r\n                <>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Account SID</label>\r\n                        <TextInput\r\n                            value={config.accountSid || ''}\r\n                            onChange={(e) => setConfig({ ...config, accountSid: e.value })}\r\n                            placeholder=\"Enter your Twilio Account SID\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Auth Token</label>\r\n                        <TextInput\r\n                            type=\"password\"\r\n                            value={config.authToken || ''}\r\n                            onChange={(e) => setConfig({ ...config, authToken: e.value })}\r\n                            placeholder=\"Enter your Twilio Auth Token\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {(config.provider === 'messagebird' || config.provider === 'aws-sns') && (\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">API Key</label>\r\n                    <TextInput\r\n                        type=\"password\"\r\n                        value={config.apiKey || ''}\r\n                        onChange={(e) => setConfig({ ...config, apiKey: e.value })}\r\n                        placeholder=\"Enter your API key\"\r\n                        required\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">From Number</label>\r\n                <TextInput\r\n                    value={config.fromNumber}\r\n                    onChange={(e) => setConfig({ ...config, fromNumber: e.value })}\r\n                    placeholder=\"+1234567890\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                <Button type=\"button\" variant=\"default\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? (isEditMode ? 'Updating...' : 'Creating...') : (isEditMode ? 'Update Integration' : 'Create Integration')}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n","import { Button, Dropdown, TextInput } from 'ether-ui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Integration, WhatsAppIntegrationConfig } from '../../../types/integration';\r\nimport env from '../../common/env';\r\nimport { useAuthStore } from '../../services/auth';\r\nimport { useIntegrationStore } from '../../services/integration';\r\n\r\ninterface WhatsAppIntegrationFormProps {\r\n    onCancel: () => void;\r\n    integration?: Integration;\r\n}\r\n\r\nexport const WhatsAppIntegrationForm: React.FC<WhatsAppIntegrationFormProps> = ({ onCancel, integration }) => {\r\n    const navigate = useNavigate();\r\n    const { user } = useAuthStore();\r\n    const { createIntegration, updateIntegration, isLoading } = useIntegrationStore();\r\n    const isEditMode = !!integration;\r\n    const [name, setName] = useState('');\r\n    const [config, setConfig] = useState<WhatsAppIntegrationConfig>({\r\n        provider: 'whatsapp-business',\r\n        fromNumber: '',\r\n    });\r\n    const [copiedWebhook, setCopiedWebhook] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (integration) {\r\n            setName(integration.name || '');\r\n            setConfig(integration.config as WhatsAppIntegrationConfig);\r\n        }\r\n    }, [integration]);\r\n\r\n    const webhookUrl =\r\n        integration?.id && user?.organizationId\r\n            ? `${env.apiExternalBasePath}/api/webhooks/whatsapp/${user.organizationId}/${integration.id}/callback`\r\n            : '';\r\n\r\n    const handleCopyWebhook = async () => {\r\n        if (webhookUrl) {\r\n            await navigator.clipboard.writeText(webhookUrl);\r\n            setCopiedWebhook(true);\r\n            setTimeout(() => setCopiedWebhook(false), 2000);\r\n        }\r\n    };\r\n\r\n    const providerOptions = [\r\n        { label: 'WhatsApp Business API', value: 'whatsapp-business' },\r\n        { label: 'Twilio', value: 'twilio' },\r\n    ];\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (isEditMode && integration?.id) {\r\n                await updateIntegration(integration.id, {\r\n                    name,\r\n                    config,\r\n                });\r\n            } else {\r\n                await createIntegration({\r\n                    type: 'whatsapp',\r\n                    name,\r\n                    config,\r\n                });\r\n            }\r\n            navigate('/integrations');\r\n        } catch (error) {\r\n            console.error(`Failed to ${isEditMode ? 'update' : 'create'} integration:`, error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg border border-gray-200 p-6 space-y-6\">\r\n            <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">WhatsApp Integration</h3>\r\n                <p className=\"text-sm text-gray-600\">Configure your WhatsApp Business API connection</p>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Integration Name</label>\r\n                <TextInput value={name} onChange={(e) => setName(e.value)} placeholder=\"e.g., WhatsApp Business Account\" required />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Provider</label>\r\n                <Dropdown\r\n                    options={providerOptions}\r\n                    value={config.provider}\r\n                    onChange={(value) => setConfig({ ...config, provider: value as any })}\r\n                />\r\n            </div>\r\n\r\n            {config.provider === 'whatsapp-business' && (\r\n                <>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number ID</label>\r\n                        <TextInput\r\n                            value={config.phoneNumberId || ''}\r\n                            onChange={(e) => setConfig({ ...config, phoneNumberId: e.value })}\r\n                            placeholder=\"Enter your phone number ID\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Access Token</label>\r\n                        <TextInput\r\n                            type=\"password\"\r\n                            value={config.accessToken || ''}\r\n                            onChange={(e) => setConfig({ ...config, accessToken: e.value })}\r\n                            placeholder=\"Enter your access token\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {config.provider === 'twilio' && (\r\n                <>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Account SID</label>\r\n                        <TextInput\r\n                            value={config.accountSid || ''}\r\n                            onChange={(e) => setConfig({ ...config, accountSid: e.value })}\r\n                            placeholder=\"Enter your Twilio Account SID\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Auth Token</label>\r\n                        <TextInput\r\n                            type=\"password\"\r\n                            value={config.authToken || ''}\r\n                            onChange={(e) => setConfig({ ...config, authToken: e.value })}\r\n                            placeholder=\"Enter your Twilio Auth Token\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">From Number</label>\r\n                <TextInput\r\n                    value={config.fromNumber}\r\n                    onChange={(e) => setConfig({ ...config, fromNumber: e.value })}\r\n                    placeholder=\"+1234567890\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Callback URL (Optional)</label>\r\n                <TextInput\r\n                    value={config.callbackUrl || ''}\r\n                    onChange={(e) => setConfig({ ...config, callbackUrl: e.value })}\r\n                    placeholder=\"https://your-server.com/webhook\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">URL to handle and respond to user queries</p>\r\n            </div>\r\n\r\n            {webhookUrl && (\r\n                <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Webhook URL</label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            readOnly\r\n                            value={webhookUrl}\r\n                            className=\"flex-1 px-3 py-2 text-sm bg-white border border-gray-300 rounded-md font-mono text-gray-700\"\r\n                        />\r\n                        <Button type=\"button\" variant=\"default\" size=\"sm\" onClick={handleCopyWebhook}>\r\n                            {copiedWebhook ? 'Copied!' : 'Copy'}\r\n                        </Button>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-600 mt-2\">\r\n                        Configure this webhook URL in your WhatsApp Business API settings to receive delivery status updates and user\r\n                        responses.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                <Button type=\"button\" variant=\"default\" onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? (isEditMode ? 'Updating...' : 'Creating...') : isEditMode ? 'Update Integration' : 'Create Integration'}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { IntegrationType } from '../../../types/integration';\r\nimport { LoadingSpinner } from '../../components/LoadingSpinner';\r\nimport { useIntegrationStore } from '../../services/integration';\r\nimport { EmailIntegrationForm } from './EmailIntegrationForm';\r\nimport { GupshupIntegrationForm } from './GupshupIntegrationForm';\r\nimport { IntegrationTypeSelector } from './IntegrationTypeSelector';\r\nimport { SMSIntegrationForm } from './SMSIntegrationForm';\r\nimport { WhatsAppIntegrationForm } from './WhatsAppIntegrationForm';\r\n\r\nexport const IntegrationForm: React.FC = () => {\r\n    const navigate = useNavigate();\r\n    const { id } = useParams<{ id: string }>();\r\n    const isEditMode = !!id;\r\n\r\n    const { getIntegrationById, selectedIntegration, isLoading } = useIntegrationStore();\r\n    const [selectedType, setSelectedType] = useState<IntegrationType | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (isEditMode && id) {\r\n            getIntegrationById(id);\r\n        }\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        if (isEditMode && selectedIntegration) {\r\n            setSelectedType(selectedIntegration.type);\r\n        }\r\n    }, [selectedIntegration, isEditMode]);\r\n\r\n    if (isEditMode && !selectedIntegration && isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (isEditMode && !selectedIntegration) {\r\n        return (\r\n            <div className=\"text-center py-12\">\r\n                <p className=\"text-gray-500\">Integration not found</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderForm = () => {\r\n        switch (selectedType) {\r\n            case 'email':\r\n                return (\r\n                    <EmailIntegrationForm\r\n                        onCancel={() => navigate('/integrations')}\r\n                        integration={isEditMode ? selectedIntegration : undefined}\r\n                    />\r\n                );\r\n            case 'gupshup':\r\n                return (\r\n                    <GupshupIntegrationForm\r\n                        onCancel={() => navigate('/integrations')}\r\n                        integration={isEditMode ? selectedIntegration : undefined}\r\n                    />\r\n                );\r\n            case 'whatsapp':\r\n                return (\r\n                    <WhatsAppIntegrationForm\r\n                        onCancel={() => navigate('/integrations')}\r\n                        integration={isEditMode ? selectedIntegration : undefined}\r\n                    />\r\n                );\r\n            case 'sms':\r\n                return (\r\n                    <SMSIntegrationForm\r\n                        onCancel={() => navigate('/integrations')}\r\n                        integration={isEditMode ? selectedIntegration : undefined}\r\n                    />\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto space-y-6\">\r\n            <div>\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">{isEditMode ? 'Edit Integration' : 'Add Integration'}</h2>\r\n                <p className=\"text-gray-600 mt-1\">\r\n                    {isEditMode ? selectedIntegration?.name : 'Connect a new marketing channel to OmniBlast'}\r\n                </p>\r\n            </div>\r\n\r\n            {!selectedType && !isEditMode ? (\r\n                <IntegrationTypeSelector onSelect={setSelectedType} />\r\n            ) : (\r\n                <div className=\"space-y-6\">\r\n                    {!isEditMode && (\r\n                        <button onClick={() => setSelectedType(null)} className=\"text-sm text-blue-600 hover:text-blue-700\">\r\n                            ← Back to channel selection\r\n                        </button>\r\n                    )}\r\n                    {renderForm()}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IntegrationForm;\r\n"],"names":["EmailIntegrationForm","onCancel","integration","navigate","useNavigate","createIntegration","updateIntegration","isLoading","useIntegrationStore","isEditMode","name","setName","useState","config","setConfig","useEffect","providerOptions","handleSubmit","e","error","jsxs","jsx","TextInput","Dropdown","value","Fragment","Button","GupshupIntegrationForm","integrationProp","user","useAuthStore","setIntegration","copiedWebhook","setCopiedWebhook","webhookUrl","env","handleCopyWebhook","i","Password","IntegrationTypeSelector","onSelect","integrationTypes","item","SMSIntegrationForm","WhatsAppIntegrationForm","IntegrationForm","id","useParams","getIntegrationById","selectedIntegration","selectedType","setSelectedType","LoadingSpinner","renderForm"],"mappings":"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"}