import{j as e,r as d,o as u,g as o,d as h}from"../index.zPvR3SOO.js";import{T as g}from"./TemplateStatusBadge-V-BDen12.js";const x=({templateType:a})=>{const s=()=>{switch(a){case"DOCUMENT":return e.jsxs("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),e.jsx("path",{d:"M8 12h8v2H8v-2zm0 4h8v2H8v-2z"})]});case"LOCATION":return e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"})});case"TEXT":return e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"})});default:return e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"})})}};return e.jsxs("div",{className:"w-full h-48 bg-linear-to-br from-gray-100 to-gray-200 flex flex-col items-center justify-center text-gray-400",children:[s(),e.jsx("p",{className:"mt-3 text-sm font-medium",children:a}),e.jsx("p",{className:"text-xs",children:"No Preview Available"})]})},m=({videoUrl:a})=>{const[s,r]=d.useState(!1),t=d.useRef(null),l=()=>{t.current&&(s?t.current.pause():t.current.play(),r(!s))};return e.jsxs("div",{className:"relative w-full h-48 bg-black group",children:[e.jsx("video",{ref:t,src:a,className:"w-full h-full object-cover",onEnded:()=>r(!1),onClick:l}),!s&&e.jsx("button",{onClick:l,className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 group-hover:bg-opacity-40 transition-all",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white bg-opacity-90 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(u,{className:"w-8 h-8 text-gray-800 ml-1"})})})]})};function j({template:a}){const s=v(a),r=a.templateType||a.templateType,t=()=>{if(s){const l=b(s,r,a.displayName);y(s,l)}};return e.jsx(e.Fragment,{children:r==="IMAGE"&&s?e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 group",children:[e.jsx("img",{src:s,alt:a.displayName,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:t,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-white bg-opacity-90 hover:bg-opacity-100 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",title:"Download Image",children:e.jsx(o,{className:"w-4 h-4 text-gray-700 cursor-pointer"})})]}):r==="VIDEO"&&s?e.jsxs("div",{className:"relative",children:[e.jsx(m,{videoUrl:s}),e.jsx("button",{onClick:t,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-white bg-opacity-90 hover:bg-opacity-100 flex items-center justify-center shadow-md transition-all z-10 cursor-pointer",title:"Download Video",children:e.jsx(o,{className:"w-4 h-4 text-gray-700 cursor-pointer"})})]}):r==="DOCUMENT"&&s?e.jsxs("div",{className:"relative",children:[e.jsx(x,{templateType:r}),e.jsx("button",{onClick:t,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-white bg-opacity-90 hover:bg-opacity-100 flex items-center justify-center shadow-md transition-all cursor-pointer",title:"Download Document",children:e.jsx(o,{className:"w-4 h-4 text-gray-700"})})]}):e.jsx(x,{templateType:r||"TEXT"})})}const v=a=>{if(a.metadata?.mediaUrl)return a.metadata.mediaUrl;if(a.metadata?.meta)try{return(typeof a.metadata.meta=="string"?JSON.parse(a.metadata.meta):a.metadata.meta)?.mediaUrl||null}catch{return null}return null},b=(a,s,r)=>{try{const i=new URL(a).pathname.split("/"),c=i[i.length-1];if(c&&c.includes("."))return c}catch{}const t=s==="VIDEO"?"mp4":s==="IMAGE"?"jpg":s==="DOCUMENT"?"pdf":"file";return`${r.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.${t}`},y=async(a,s)=>{try{const t=await(await fetch(a)).blob(),l=window.URL.createObjectURL(t),i=document.createElement("a");i.href=l,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)}catch{window.open(a,"_blank")}},N=({template:a,variant:s="card",showActions:r=!1,actions:t})=>{const l=a.templateType||a.templateType,i=a.metadata?.data||a.components?.find(c=>c.type==="BODY")?.text;return s==="horizontal"?e.jsx("div",{className:"bg-linear-to-br from-white to-gray-50 border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("div",{className:"sm:w-40 shrink-0 bg-linear-to-br from-gray-100 to-gray-50",children:e.jsx("div",{className:"aspect-video sm:aspect-square h-full",children:e.jsx(j,{template:a})})}),e.jsxs("div",{className:"flex-1 p-4 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"min-w-0 shrink",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:a.displayName}),e.jsx("p",{className:"text-xs text-gray-400 truncate mt-0.5",children:a.name})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 ml-auto shrink-0",children:[e.jsx(n,{label:a.type,variant:"gray"}),l&&e.jsx(n,{label:l,variant:"blue"}),!!a.parameterCount&&e.jsx(n,{label:`${a.parameterCount} ${a.parameterCount===1?"param":"params"}`,variant:"purple"}),a.category&&e.jsx(n,{label:a.category,variant:"indigo"}),a.language&&e.jsx(n,{label:a.language.toUpperCase(),variant:"teal"}),a.qualityRating&&a.qualityRating!=="UNKNOWN"&&e.jsx(n,{label:a.qualityRating,variant:a.qualityRating==="HIGH"?"green":a.qualityRating==="MEDIUM"?"yellow":"red"})]})]}),i&&e.jsx("div",{className:"mt-3 p-2.5 bg-gray-50 border border-gray-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed line-clamp-2",children:i})})]})]})}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-base truncate mb-2",children:a.displayName}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.jsx(g,{status:a.status}),e.jsx(n,{label:a.type,variant:"gray"}),l&&e.jsx(n,{label:l,variant:"blue"}),!!a.parameterCount&&e.jsx(n,{label:`${a.parameterCount} ${a.parameterCount===1?"param":"params"}`,variant:"purple"}),a.qualityRating&&a.qualityRating!=="UNKNOWN"&&e.jsx(n,{label:a.qualityRating,variant:a.qualityRating==="HIGH"?"green":a.qualityRating==="MEDIUM"?"yellow":"red"})]})]}),r&&t&&e.jsx("div",{className:"ml-3 shrink-0",children:t})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})}),e.jsx("span",{children:new Date(a.createdAt).toLocaleDateString()})]}),!!a.usageCount&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),e.jsxs("span",{children:[a.usageCount," uses"]})]})]}),i&&e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:i}),a.status==="rejected"&&a.rejectionReason&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2.5",children:[e.jsx("p",{className:"text-xs font-semibold text-red-800",children:"Rejected"}),e.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:a.rejectionReason})]})]})},f={gray:"text-gray-600 bg-gray-100",blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",teal:"text-teal-600 bg-teal-50",green:"text-green-700 bg-green-50",yellow:"text-yellow-700 bg-yellow-50",red:"text-red-700 bg-red-50"},n=({label:a,variant:s})=>e.jsx("span",{className:h("text-xs px-2 py-1 rounded-md font-medium uppercase",f[s]),children:a});export{j as P,N as T};
//# sourceMappingURL=TemplateDetails-DjE4KbJZ.js.map
