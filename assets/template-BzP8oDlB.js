import{n as l,c as o}from"../index.zPvR3SOO.js";const n=l((a,t)=>({templates:[],selectedTemplate:null,isLoading:!1,error:null,filters:{status:"approved"},loadTemplates:async r=>{a({isLoading:!0,error:null});try{const e=new URLSearchParams;r?.type&&e.append("type",r.type),r?.status&&e.append("status",r.status),r?.integrationId&&e.append("integrationId",r.integrationId);const s=await o.get(`/api/templates?${e.toString()}`);Array.isArray(s)?a({templates:s,isLoading:!1}):a({error:"Failed to load templates",isLoading:!1})}catch(e){a({error:e.message||"Failed to load templates",isLoading:!1})}},getTemplateById:async r=>{a({isLoading:!0,error:null});try{const e=await o.get(`/api/templates/${r}`);e.success?a({selectedTemplate:e.data,isLoading:!1}):a({error:e.message||"Failed to load template",isLoading:!1})}catch(e){a({error:e.message||"Failed to load template",isLoading:!1})}},createTemplate:async r=>{a({isLoading:!0,error:null});try{const e=await o.post("/api/templates",r);if(e.success)await t().loadTemplates(t().filters),a({isLoading:!1});else throw a({error:e.message||"Failed to create template",isLoading:!1}),new Error(e.message)}catch(e){throw a({error:e.message||"Failed to create template",isLoading:!1}),e}},updateTemplate:async(r,e)=>{a({isLoading:!0,error:null});try{const s=await o.put(`/api/templates/${r}`,e);if(s.success)await t().loadTemplates(t().filters),a({isLoading:!1});else throw a({error:s.message||"Failed to update template",isLoading:!1}),new Error(s.message)}catch(s){throw a({error:s.message||"Failed to update template",isLoading:!1}),s}},deleteTemplate:async r=>{a({isLoading:!0,error:null});try{const e=await o.delete(`/api/templates/${r}`);if(e.success)await t().loadTemplates(t().filters),a({isLoading:!1});else throw a({error:e.message||"Failed to delete template",isLoading:!1}),new Error(e.message)}catch(e){throw a({error:e.message||"Failed to delete template",isLoading:!1}),e}},setFilters:r=>{a({filters:r}),t().loadTemplates(r)},clearError:()=>a({error:null})}));export{n as u};
//# sourceMappingURL=template-BzP8oDlB.js.map
